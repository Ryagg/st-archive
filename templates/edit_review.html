{% extends "base.html" %}
{% block content %}

    <section class="hero is-fullheight-with-navbar bg__img--starry-sky">
        <div class="hero-body">
            <div class="container">
                <h1 class="title is-1 has-text-centered heading__text--shadow">Hello, {{ username.capitalize() }} </h1>
                <p class="subtitle is-2 has-text-centered">
                    Edit your review!
                </p>

                <form class="form" method="POST" action="{{ url_for('edit_review', review_id=review._id) }}">
                    <input type="hidden" name="_csrf_token" value="{{ csrf_token() }}">
                    <div class="columns">
                        <div class="column">
                            <div class="field">
                                <label class="is-size-3 has-text-weight-normal" for="book_series">Book series (code)</label>
                                <div class="control">
                                    <input id="book_series" name="book_series" class="input is-size-4" type="text"
                                        value="{{ review.book_series }}" readonly>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="columns">
                        <div class="column">
                            <div class="field">
                                <label class="is-size-3 has-text-weight-normal" for="book_title">Book title</label>
                                <div class="control">
                                    <input id="book_title" name="book_title" class="input is-size-4" type="text"
                                        value="{{ review.book_title }}" readonly>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="columns">
                        <div class="column">
                            <div class="field">
                                <label class="is-size-3 has-text-weight-normal" for="review_text">Review</label>
                                <div class="control">
                                    <textarea id="review_text" name="review_text" class="textarea is-medium mb-4" type="text"
                                        rows="10">{{- review.review_text -}}</textarea>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Buttons -->
                    <div class="columns is-centered">
                        <div class="column is-6-tablet is-5-desktop is-4-widescreen">
                            <div class="field is-grouped">
                                <div class="control">
                                    <a class="button is-link is-size-5" href="{{ url_for('profile', username=session['user']) }}">Cancel<i class="fal fa-times-circle right ml-3"></i>
                                    </a>
                                </div>
                                <div class="control has-icons-right">
                                    <input class="button is-link is-size-5" type="submit" value="Submit">
                                        {# Icon can neither be modified nor targeted. Is too close to the text. #}
                                        <span class="icon is-right ml-3">
                                            <i class="fal fa-satellite-dish ml-3"></i>
                                        </span>
                                </div>
                            </div>
                        </div>
                    </div>

                </form>
            </div>
        </div>
    </section>

{% endblock %}